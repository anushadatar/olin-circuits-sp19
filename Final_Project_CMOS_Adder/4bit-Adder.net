* C:\Users\afry\Documents\Semesters\Spring 2019\Circuits\olin-circuits-sp19\Final_Project_CMOS_Adder\4bit-Adder.asc
Vdd P001 P002 5
V你0 A0 P003 5
V伯0 B0 P004 5
V低0 C0 P005 0
XU1 P002 gnd
XU2 P003 gnd
XU3 P004 gnd
XU4 P005 gnd
XU5 P001 vdd
XX1 B0 A0 C0 S0 C1 1bit-adder
XX2 B1 A1 C1 S1 C2 1bit-adder
XX3 B2 A2 C2 S2 C3 1bit-adder
XX4 B3 A3 C3 S3 Cout 1bit-adder
V你1 A1 P006 5
V伯1 B1 P007 5
XU6 P006 gnd
XU7 P007 gnd
V你2 A2 P008 5
V伯2 B2 P009 5
XU9 P008 gnd
XU10 P009 gnd
V你3 A3 P010 5
V伯3 B3 P011 5
XU12 P010 gnd
XU13 P011 gnd

* block symbol definitions
.subckt 1bit-adder B1 A1 Cin S Cout
XX1 N001 A1 B1 xor
XX2 S N001 Cin xor
XX3 Cin N001 N002 and-gate
XX4 B1 A1 N003 and-gate
XX5 N002 N003 Cout orgate
.include engr2420.sub
.ends 1bit-adder

.subckt xor Outx Ax Bx
XU2 N002 Ax N001 pmos3
XU3 N002 Ax P001 nmos3
XU4 P001 gnd
XU5 Outx Ax Bx pmos3
XU6 Outx Bx Ax pmos3
XU7 Outx N002 Bx nmos3
XU8 Outx Bx N002 nmos3
R1 P002 N001 1000
XU1 P002 vdd
.include engr2420.sub
.ends xor

.subckt and-gate A B C
XU1 N001 A P001 nmos3
XU2 P001 B P002 nmos3
XU3 N001 B P003 pmos3
XU4 N001 A P004 pmos3
XU5 C N001 P005 pmos3
XU6 C N001 P006 nmos3
XU7 P002 gnd
XU8 P006 gnd
XU11 P004 vdd
XU12 P003 vdd
XU13 P005 vdd
.include engr2420.sub
.ends and-gate

.subckt orgate V1 V2 V3
XU1 N002 V1 N001 pmos3
XU2 N003 V2 N002 pmos3
XU3 N001 vdd
XU4 N003 V2 N004 nmos3
XU5 N003 V1 N004 nmos3
XU6 V3 N003 N004 nmos3
XU7 V3 N003 N001 pmos3
XU8 N004 gnd
.include engr2420.sub
.ends orgate

.tran 20u
.include engr2420.sub
.backanno
.end
